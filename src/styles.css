/* --- Theme --- */
:root{
  --bg: #eef2f7;             /* light blue-gray app background */
  --panel: #ffffff;
  --text: #0f172a;            /* slate-900 */
  --muted: #475569;           /* slate-600 */
  --border: #d6e0ea;          /* blue-gray border */

  --accent: #2563eb;          /* blue-600 */
  --accent-50: #eff6ff;       /* blue-50 */

  --success: #166534;         /* green-700  */
  --success-50:#f0fdf4;

  --warn: #9a3412;            /* orange-700 */
  --warn-50:#fff7ed;

  --node-shadow: 0 6px 18px rgba(24, 39, 75, .12);
}

html, body, #root {
  height:100%;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
}

/* Ensure layout math is sane everywhere */
*, *::before, *::after { box-sizing: border-box; }

/* Panels, inputs, buttons */
.panel {
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;             /* keep contents inside */
}
.input {
  width:100%;
  min-width:0;                 /* prevent flex overflow */
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  color:var(--text);
}
.btn {
  width:100%;
  min-width:0;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#fff;
  color:var(--text);
}
.btn-primary { background:var(--accent); color:#fff; border-color:transparent; }
.btn-ghost   { background:#fff; color:var(--text); }

.badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:11px; }
.badge-accent  { background:var(--accent-50);  color:var(--accent); }
.badge-success { background:var(--success-50); color:var(--success); }
.badge-warn    { background:var(--warn-50);    color:var(--warn); }

/* --- Node card --- */
.node-card {
  width: 300px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: #fff;
  box-shadow: var(--node-shadow);
  overflow: hidden;           /* keep all text inside */
  color: var(--text);
}

/* Colored header bar */
.node-head {
  background: linear-gradient(135deg, #3b82f6, #2563eb); /* blue-500â†’600 */
  color: #fff;
  padding: 10px 12px;
}
.node-title {
  font-weight:800; font-size:14px; line-height:1.2;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.node-sub {
  font-size:12px; opacity:.95;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  color:#eaf2ff;
}

.node-body { padding: 10px 12px 12px; background:#fff; }
.node-row  { font-size:12px; margin-top:8px; }
.node-kv   { display:flex; justify-content:space-between; gap:8px; }
.node-sec  { font-weight:700; margin-top:8px; font-size:12px; color:var(--muted); }
.node-list { margin-top:4px; max-height:110px; overflow:auto; padding-right:4px; }
.node-list div { display:flex; justify-content:space-between; gap:8px; }

/* Buttons/selects inside nodes */
.node-actions { display:flex; gap:8px; margin-top:10px; }
.node-btn {
  flex:0 0 130px;             /* fixed button width so selects get the rest */
  padding:8px;
  border:1px solid var(--border);
  border-radius:10px;
  background:#f8fafc;
  color:var(--text);
}
.node-select,
.node-select-variant {
  flex:1 1 auto;
  min-width:0;                /* critical to prevent overflow in flex rows */
  width:100%;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  padding:6px 8px;
  color:var(--text);
}

/* Target panel internal controls should never overflow either */
select { width:100%; min-width:0; }

/* Modal: grid for building cards; stacks on small widths */
.modal-cards { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
@media (max-width: 980px) { .modal-cards { grid-template-columns:1fr; } }
